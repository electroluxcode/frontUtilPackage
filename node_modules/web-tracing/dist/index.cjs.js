"use strict";function ownKeys(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function _objectSpread2(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach(function(e){_defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function pad(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"0",n=String(e);if(n.length<t){for(var o=n,a=0;a<t-n.length;a+=1)o=r+o;return o}return n}function uuid(){for(var e=new Date,t=parseInt("".concat(e.getFullYear()).concat(pad(e.getMonth()+1,2)).concat(pad(e.getDate(),2)),10).toString(16),e=parseInt("".concat(pad(e.getHours(),2)).concat(pad(e.getMinutes(),2)).concat(pad(e.getSeconds(),2)).concat(pad(e.getMilliseconds(),3)),10).toString(16),r=t+e.length+e;r.length<32;)r+=Math.floor(16*Math.random()).toString(16);return"".concat(r.slice(0,8),"-").concat(r.slice(8,16),"-").concat(r.slice(16))}function getCookieByName(e){e=document.cookie.match(new RegExp("".concat(e,"=([^;]+)(;|$)")));return e?e[1]:void 0}Object.defineProperty(exports,"__esModule",{value:!0});var sendBeacon=navigator.sendBeacon?function(e,t){t&&navigator.sendBeacon(e,JSON.stringify(t))}:function(e,t){(new Image).src="".concat(e,"?v=").concat(encodeURIComponent(JSON.stringify(t)))},arrayMap=Array.prototype.map||function(e){for(var t=[],r=0;r<this.length;r+=1)t.push(e(this[r],r,this));return t};function map(e,t){return arrayMap.call(e,t)}var arrayFilter=Array.prototype.filter||function(e){for(var t=[],r=0;r<this.length;r+=1)e(this[r],r,this)&&t.push(this[r]);return t};function filter(e,t){return arrayFilter.call(e,t)}var nextTime=window.requestIdleCallback||window.requestAnimationFrame||function(e){return setTimeout(e,17)},DEVICE_KEY="_warden_device_id",SESSION_KEY="_warden_session_id",SURVIVIE_MILLI_SECONDS=18e5,MAX_CACHE_LEN=5,MAX_WAITING_TIME=5e3,_window=window,screen=_window.screen,_document$documentEle=document.documentElement,clientWidth=_document$documentEle.clientWidth,clientHeight=_document$documentEle.clientHeight,width=screen.width,height=screen.height,colorDepth=screen.colorDepth,pixelDepth=screen.pixelDepth,deviceId=getCookieByName(DEVICE_KEY);deviceId||(deviceId="t_".concat(uuid()),document.cookie="".concat(DEVICE_KEY,"=").concat(deviceId,";path=/;"));var device={clientHeight:clientHeight,clientWidth:clientWidth,colorDepth:colorDepth,pixelDepth:pixelDepth,deviceId:deviceId,screenWidth:width,screenHeight:height,vendor:navigator.vendor,platform:navigator.platform};function refreshSession(){var e=getCookieByName(SESSION_KEY)||"s_".concat(uuid()),t=new Date(Date.now()+SURVIVIE_MILLI_SECONDS);return document.cookie="".concat(SESSION_KEY,"=").concat(e,";path=/;max-age=1800;expires=").concat(t.toUTCString()),e}function getSessionId(){return getCookieByName(SESSION_KEY)||refreshSession()}refreshSession();var version="10.5.1",pageId=uuid(),sessionId=getSessionId(),requestUrl="",events=[],timer=null,base=_objectSpread2(_objectSpread2({},device),{},{pageId:pageId,sessionId:sessionId,sdkVersion:version});function init$6(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.appName,r=e.appCode,n=e.ext;requestUrl=e.requestUrl,base.appName=t,base.appCode=r,base.ext=n}function emit(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];events=events.concat(e),refreshSession(),clearTimeout(timer),events.length>=MAX_CACHE_LEN||t?send():timer=setTimeout(function(){send()},MAX_WAITING_TIME)}function send(){var e,t;events.length&&(e=events.slice(0,MAX_CACHE_LEN),events=events.slice(MAX_CACHE_LEN),t=Date.now(),sendBeacon(requestUrl,{baseInfo:_objectSpread2(_objectSpread2({},base),{},{sendTime:t}),eventInfo:map(e,function(e){if(e.sendTime=t,"click"===e.eventType||"scroll"===e.eventType||"submit"===e.eventType||"change"===e.eventType)return e.type="mix",e;if("performance"!==e.eventType)return e.type=e.eventType,e;switch(e.eventId){case"resource":e.type="resourcePerformance";break;case"page":e.type="pagePerformance";break;case"server":e.type="serverPerformance"}return e})}),events.length&&nextTime(send))}function setCustomerId(e){base.customerId=e}function setUserUuid(e){base.userUuid=e}var base$1={init:init$6,emit:emit,pageId:pageId,setCustomerId:setCustomerId,setUserUuid:setUserUuid},oldURL=window.location.href,historyLength=window.history.length;function tracePageView(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.url,r=void 0===t?window.location.href:t,t=e.referer,n=void 0===t?oldURL:t,t=e.actions,o=e.params,a=void 0===t?"":t;!a&&window.history.length<50&&(a=historyLength===window.history.length?"back_forward":"navigation",historyLength=window.history.length),setTimeout(function(){emit({eventType:"pv",eventId:pageId,url:r,referer:n,params:o,title:e.title||document.title,action:a,triggerTime:Date.now()})},e.title?0:17),oldURL=r,historyLength=window.history.length}function init$5(){var n,o,a,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.pvCore,r=e.pvHashtag,e=document.referrer;t&&(n=!1,tracePageView({url:oldURL,referer:e}),window.history.pushState&&(o=window.history.pushState.bind(window.history),window.history.pushState=function(e,t,r){n=!1;r=o(e,t,r);return tracePageView({actions:"navigation"}),r},a=window.history.replaceState.bind(window.history),window.history.replaceState=function(e,t,r){n=!1;r=a(e,t,r);return tracePageView({actions:"navigation"}),r},window.addEventListener("popstate",function(){if(""!==window.location.hash){var e=0<oldURL.indexOf("#")?oldURL.slice(0,oldURL.indexOf("#")):oldURL;if(window.location.href.slice(0,window.location.href.indexOf("#"))===e&&!r)return}n=!0,tracePageView()})),window.addEventListener("hashchange",function(){r&&!n&&tracePageView(),n=!1}))}var pv={init:init$5,tracePageView:tracePageView};function setFullErrInfo(e){emit(_objectSpread2(_objectSpread2({},e),{},{eventType:"error",url:window.location.href,triggerTime:Date.now()}))}function parseStack(e){var t=e.stack,r=void 0===t?"":t,t=e.message,e=void 0===t?"":t,t={errMessage:e,errStack:r};if(r){var n=/^\s*at\s*([^(]+)\s*\((.+?):(\d+):(\d+)\)$/,o=/^\s*([^@]*)@(.+?):(\d+):(\d+)$/,e=map(filter(r.replace(new RegExp("^[\\w\\s:]*".concat(e,"\n")),"").split("\n"),function(e){return e}),function(e){var t=e.match(n);if(t)return{src:t[2],line:t[3],col:t[4]};e=e.match(o);return e?{src:e[2],line:e[3],col:e[4]}:{}})[0]||{};return _objectSpread2(_objectSpread2({},t),e)}return t}function parseError(e){if(e instanceof Error){var t=e.message,r=e.stack,n=e.lineNumber,o=e.fileName,a=e.columnNumber;return o?{errMessage:t,errStack:r,line:n,col:a,src:o}:parseStack(e)}return e.message?parseStack(e):"string"==typeof e?{errMessage:e}:{}}function parseErrorEvent(e){var t=e.target;if("unhandledrejection"===e.type)return _objectSpread2({eventId:"code"},parseError(e.reason));if(1===t.nodeType){var r={eventId:t.nodeName};return"link"===t.nodeName.toLowerCase()?r.src=t.href:r.src=t.currentSrc||t.src,r}if(e.error){r=e.error;return r.fileName=r.filename||e.filename,r.columnNumber=r.colno||e.colno,r.lineNumber=r.lineno||e.lineno,_objectSpread2({eventId:"code"},parseError(r))}return{eventId:"code",line:window.event.errorLine,col:window.event.errorCharacter,message:window.event.errorMessage,src:window.event.errorUrl}}function init$4(e){var n;e.errorCore&&(window.addEventListener("error",function(e){setFullErrInfo(parseErrorEvent(e))},!0),window.addEventListener("unhandledrejection",function(e){setFullErrInfo(parseErrorEvent(e))}),n=console.error,console.error=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(e){setFullErrInfo(_objectSpread2({eventId:"code"},parseError(e)))}),n.apply(console,t)})}function traceError(e,t){e=_objectSpread2({eventId:e,errMessage:t},2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}),t=e.params;return t&&(e.params=t),setFullErrInfo(e)}var err={init:init$4,traceError:traceError},supported={performance:!!window.performance,getEntriesByType:!(!window.performance||!performance.getEntriesByType),PerformanceObserver:"PerformanceObserver"in window,MutationObserver:"MutationObserver"in window,PerformanceNavigationTiming:"PerformanceNavigationTiming"in window},performanceEntryAttrs={initiatorType:"",transferSize:0,encodedBodySize:0,decodedBodySize:0,duration:0,redirectStart:0,redirectEnd:0,startTime:0,fetchStart:0,domainLookupStart:0,domainLookupEnd:0,connectStart:0,connectEnd:0,requestStart:0,responseStart:0,responseEnd:0,workerStart:0};function normalizePerformanceRecord(r){return Object.keys(r).forEach(function(e){var t=r[e];"number"==typeof t&&(r[e]=0===t?void 0:parseFloat(t.toFixed(2)))}),r}function traceResourcePerformance(e){var n=["img","script","link","audio","video","css"],e=e.getEntriesByType("resource"),o=[];return e.forEach(function(t){var r,e=t.initiatorType,e=void 0===e?"":e;n.indexOf(e.toLowerCase())<0||(r={},Object.keys(performanceEntryAttrs).forEach(function(e){r[e]=t[e]}),o.push(normalizePerformanceRecord(_objectSpread2(_objectSpread2({},r),{},{eventType:"performance",eventId:"resource",src:t.name,triggerTime:Date.now(),url:window.location.href}))))}),o.length&&emit(o),o}function observeAsyncInfo(){new PerformanceObserver(traceResourcePerformance).observe({entryTypes:["resource"]})}function observeSourceInsert(){var o=["img","script","link"];new MutationObserver(function(t){for(var e=0;e<t.length;e+=1)!function(e){var r=Date.now(),e=t[e].addedNodes,n=[];(void 0===e?[]:e).forEach(function(t){var e=t.nodeName;-1!==o.indexOf(e.toLowerCase())&&t.addEventListener("load",function(){var e=Date.now();n.push(normalizePerformanceRecord({eventType:"performance",eventId:"resource",src:t.src||t.href,duration:e-r,triggerTime:Date.now(),url:window.location.href}))})}),emit(n)}(e)}).observe(window.document,{subtree:!0,childList:!0})}function observeAsyncResource(){supported.PerformanceObserver?observeAsyncInfo():supported.MutationObserver&&observeSourceInsert()}function observeResource(){traceResourcePerformance(window.performance),observeAsyncResource()}function observeNavigationTiming(){var e,t={},r=window.performance,n=r.timing;t.fmp=0,supported.getEntriesByType&&((e=r.getEntriesByType("paint")).length&&(t.fmp=e[e.length-1].startTime),!supported.PerformanceNavigationTiming||(r=r.getEntriesByType("navigation")[0])&&(n=r)),t.fmp&&supported.PerformanceNavigationTiming&&(t.fmp-=n.fetchStart),t.tti=n.domInteractive-n.fetchStart,t.ready=n.domContentLoadedEventEnd-n.fetchStart,t.loadon=n.loadEventStart-n.fetchStart,t.firstbyte=n.responseStart-n.domainLookupStart,t.dns=n.domainLookupEnd-n.domainLookupStart,t.appcache=n.domainLookupStart-n.fetchStart,t.tcp=n.connectEnd-n.connectStart,t.ttfb=n.responseStart-n.requestStart,t.trans=n.responseEnd-n.responseStart,t.dom=n.domInteractive-n.responseEnd,t.res=n.loadEventStart-n.domContentLoadedEventEnd,t.ssllink=n.connectEnd-n.secureConnectionStart,t.redirect=n.redirectEnd-n.redirectStart,t.unloadTime=n.unloadEventEnd-n.unloadEventStart,emit(normalizePerformanceRecord(_objectSpread2(_objectSpread2({},t),{},{eventType:"performance",eventId:"page",url:window.location.href})))}function init$3(e){var t=e.performanceFirstResource,r=e.performanceCore;(t||r)&&("complete"===document.readyState?(supported.performance&&t&&observeNavigationTiming(),supported.getEntriesByType&&r&&observeResource()):window.addEventListener("load",function(){supported.performance&&t&&observeNavigationTiming(),supported.getEntriesByType&&r&&observeResource()}))}function tracePerformance(e,t){emit(normalizePerformanceRecord(_objectSpread2(_objectSpread2({triggerTime:Date.now(),url:window.location.href},t),{},{eventId:e,eventType:"performance"})))}var performance$1={init:init$3,tracePerformance:tracePerformance},RequestTemplate$1=_createClass(function e(){var t=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,e);["src","method","duration","responseStatus"].forEach(function(e){t[e]=r[e]||null})});function interceptFetch(i,c){var r=window.fetch;r&&(window.fetch=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=Date.now(),e=n.method,a=void 0===e?"GET":e,e=r(t,n);return e.then(function(e){var t=e.url,r=e.status,e=e.statusText;200===r||304===r?i&&performance$1.tracePerformance("server",{src:t,duration:Date.now()-o,responseStatus:r,params:"POST"===a.toUpperCase()?n.body:void 0}):c&&err.traceError("server",e,{src:t,responseStatus:r,params:"POST"===a.toUpperCase()?n.body:void 0})},function(e){err.traceError("server",e.message,{src:t})}),e})}function interceptAjax(i,c){var e=XMLHttpRequest.prototype,n=e.open,t=e.send,s=new RequestTemplate$1;XMLHttpRequest.prototype.open=function(e,t,r){return s.requestMethod=e,s.src=t,n.call(this,e,t,r)},XMLHttpRequest.prototype.send=function(o){var a=this;return this.addEventListener("readystatechange",function(){var e=a.readyState,t=a.status,r=a.responseURL,n=void 0===r?s.src:r,r=a.responseText;4===e&&(200===t||304===t?i&&performance$1.tracePerformance("server",{src:n,responseStatus:t,duration:Date.now()-s.triggerTime,params:o||void 0}):c&&err.traceError("server",r,{src:n,responseStatus:t,params:o||void 0}))}),s.triggerTime=Date.now(),t.call(this,o)}}function init$2(e){var t=e.performanceServer,e=e.errorServer;(t||e)&&(interceptAjax(t,e),interceptFetch(t,e))}var http={init:init$2},RequestTemplate=_createClass(function e(){var t=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,e);["eventType","eventId","url","referer","action","params","millisecond"].forEach(function(e){t[e]=r[e]||null})}),RequestTemplateClick=_createClass(function e(){var t=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,e);["eventType","eventId","url","params","title","x","y"].forEach(function(e){t[e]=r[e]||null})});function isSimpleEl(e){if(0<e.length){var t=["em","b","strong","span","img","i","code"];return e.filter(function(e){e=e.tagName;return 0<=t.indexOf(e.toLowerCase())}).length===e.length}return!0}function getNodePath(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!e)return[];for(var r=t.includeSelf,t=t.order,n=void 0===t?"asc":t,o=void 0===r||r?e:e.parentElement,a=[];o;)a="asc"===n?a.concat(o):[o].concat(a),o=o.parentElement;return a}function getNodeXPath(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";if(!e)return t;var r=e.parentElement,n=0,o=e.id,a=e.tagName.toLowerCase(),i=t?">".concat(t):"",t=n?".".concat(n):"";return r&&r!==window&&r!==document.documentElement&&r!==document.body?o?"#".concat(o).concat(i):(1<r.children.length&&(n=Array.prototype.indexOf.call(r.children,e)),getNodeXPath(r,"".concat(a).concat(t).concat(i))):"".concat(a).concat(i)}function clickCollection(){document.addEventListener("click",function(e){var t,r=new RequestTemplateClick({eventType:"click"}),n=e.path,o=(n=void 0===n?e.target?getNodePath(e.target):[]:n).find(function(e){return e.hasAttribute&&(e.hasAttribute("data-warden-container")||e.hasAttribute("data-warden-event-id")||e.hasAttribute("data-warden-title"))});o&&(r.title=extractTitleByTarget(o),r.eventId=extractDataByPath(n),r.params=extractParamsByPath(n),r.elementPath=getNodeXPath(o).slice(-128),n=(t=e.target.getBoundingClientRect()).top,o=t.left,t=(e=document.documentElement).scrollTop,e=e.scrollLeft,t=n+t,r.x=o+e,r.y=t,r.triggerTime=Date.now(),r.url=window.location.href,emit(r))},!0)}function dwellCollector(e){var t=new RequestTemplate({eventType:"dwell"});window.addEventListener("load",function(){t.entryTime=Date.now()},!0),e&&window.addEventListener("beforeunload",function(){t.eventId=uuid(),t.url=window.location.href,t.referer=document.referrer,t.triggerTime=Date.now(),t.millisecond=Date.now()-t.entryTime;var e=performance.navigation.type;t.operateAction={0:"navigate",1:"reload",2:"back_forward",255:"reserved"}[e]||null,emit(t,!0)},!1)}function extractDataByPath(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=getElByAttr(e,"data-warden-event-id");if(t)return t.getAttribute("data-warden-event-id");t=getElByAttr(e,"title");if(t)return t.getAttribute("title");t=getElByAttr(e,"data-warden-container");if(t){if(t.getAttribute("data-warden-event-id")||t.getAttribute("title"))return t.getAttribute("data-warden-event-id")||t.getAttribute("title");t=t.getAttribute("data-warden-container");if("string"==typeof t&&t)return t}return e[0].tagName.toLowerCase()}function extractParamsByPath(){var r,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=/^data-warden-/;try{e.forEach(function(e,t){e=e&&e.attributes&&Array.from(e.attributes)||[];if(e.find(function(e){return e.nodeName.match(n)?e.nodeName.match(n):-1!==e.nodeName.indexOf("data-warden-container")}))throw r=t,Error()})}catch(e){}if(r<0)return{};var e=e[r],e=Array.from(e.attributes)||[],o={};e.forEach(function(e){var t;e.nodeName.indexOf("data-warden")<0||(t=e.nodeName.replace(n,""),o[t]=e.nodeValue)});return["container","title","event-id"].forEach(function(e){delete o[e]}),o}function getElByAttr(e,t){return e.find(function(e){return e.hasAttribute&&e.hasAttribute(t)})}function extractTitleByTarget(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=getNodeTitle(e);if(t)return t;for(var r=e.parent;r&&r!==document.body&&!r.hasAttribute("data-warden-container");)r=r.parent;t=getNodeTitle(r);if(t)return t;t=e.tagName;return(e.hasChildNodes()&&"svg"!==t.toLowerCase()?handleNoLeafNode:handleLeafNode)(e)}function getNodeTitle(e){return e?e.hasAttribute("data-warden-title")?e.getAttribute("data-warden-title"):e.title:null}function handleLeafNode(e){var t=e.tagName,r=e.textContent;if("IMG"===t)return e.getAttribute("alt")||null;if("svg"===t){e=_toConsumableArray(e.children).find(function(e){return"use"===e.tagName});if(e)return e.getAttribute("xlink:href")||null}return r}function handleNoLeafNode(e){var t=e.tagName,r=e.textContent;if("A"===t)return isSimpleEl(_toConsumableArray(e.children))?r:e.getAttribute("href")||null;if("BUTTON"!==t)return 0<_toConsumableArray(e.children).filter(function(){return e.hasChildNodes()}).length?null:r;var n=e.getAttribute("name"),t=isSimpleEl(_toConsumableArray(e.children));return n||t?r:e.getAttribute("href")||null}function init$1(e){var t=e.eventCore,e=e.eventUnload;(t||e)&&(t&&clickCollection(),dwellCollector(e))}function traceCustomEvent(e,t){emit({eventId:e,title:t,params:2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},eventType:"custom",triggerTime:Date.now()})}var event={init:init$1,traceCustomEvent:traceCustomEvent},methods={setCustomerId:base$1.setCustomerId,setUserUuid:base$1.setUserUuid,traceError:err.traceError,tracePerformance:performance$1.tracePerformance,traceCustomEvent:event.traceCustomEvent,tracePageView:pv.tracePageView},init=function(){var e={requestUrl:"",appName:"",appCode:"",appVersion:"",ext:"",debug:!1,pvCore:!1,pvHashtag:!1,performanceCore:!1,performanceFirstResource:!1,performanceServer:!1,errorCore:!1,errorServer:!1,eventCore:!1,eventUnload:!1};transitionOptions(e,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),base$1.init(e),event.init(e),pv.init(e),http.init(e),err.init(e),performance$1.init(e)},transitionOptions=function(e,t){var r=t.requestUrl,n=t.appName,o=t.appCode,a=t.appVersion,i=t.ext,c=t.debug,s=t.pv,d=void 0===s?{}:s,u=t.performance,s=void 0===u?{}:u,u=t.error,u=void 0===u?{}:u,t=t.event,t=void 0===t?{}:t;if(!r)throw Error("请传入requestUrl参数");if(!n)throw Error("请传入appName参数");e.requestUrl=r,e.appName=n,e.appCode=o,e.appVersion=a,e.ext=i,e.debug=c,"boolean"==typeof d?e.pvCore=e.pvHashtag=d:(e.pvCore=Boolean(d.core),e.pvHashtag=Boolean(d.server)),"boolean"==typeof s?e.performanceCore=e.performanceFirstResource=e.performanceServer=s:(e.performanceCore=Boolean(s.core),e.performanceFirstResource=Boolean(s.firstResource),e.performanceServer=Boolean(s.server)),"boolean"==typeof u?e.errorCore=e.errorServer=u:(e.errorCore=Boolean(u.core),e.errorServer=Boolean(u.server)),"boolean"==typeof t?e.eventCore=e.eventUnload=t:(e.eventCore=Boolean(t.core),e.eventUnload=Boolean(t.unload))},install=function(e){init(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),e.prototype?e.prototype.$trace=_objectSpread2({},methods):e.config.globalProperties.$trace=_objectSpread2({},methods)},index=_objectSpread2({install:install,init:init},methods);exports.default=index,exports.init=init,exports.install=install,exports.methods=methods;
